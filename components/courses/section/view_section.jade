template(name='doc_section')
    +nav
    .ui.container
        .ui.breadcrumb
            a.section(href='/') Home
            .divider  / 
            a.section(href='/courses') Courses
            .divider  / 
            a.section(href="/course/sol") Source of Light
            .divider  / 
            a.section(href="/course/sol/modules") Modules
            .divider  / 
            a.section(href="/course/sol/module/#{module.number}") #{module.number}: #{module.title}
            .divider  / 
            a.section(href="/course/sol/module/#{module.number}/sections") Sections
            .divider  / 
            .section #{section.number}: #{section.title}
        .ui.hidden.divider
        if previous_section
            a.ui.small.basic.button(href="/course/sol/module/#{module.number}/section/#{previous_section.number}")
                i.left.chevron.icon
                |#{previous_section.number}: #{previous_section.title}
        if section_complete
            a.ui.small.basic.right.floated.button(href="/course/sol/module/#{module.number}/section/#{next_section.number}")
                |#{next_section.number}: #{next_section.title}
                i.right.chevron.icon
        .ui.hidden.divider
        h2.ui.horizontal.divider.header 
            |Section #{section.number}: #{section.title}
        .ui.stackable.grid
            .five.wide.column
                .ui.vertical.fluid.pointing.menu
                    a.item(href="/course/sol/module/#{module.number}/section/#{section.number}" class="{{isActiveRoute name='doc_section'}}") View
                    // a.item(href="/course/sol/module/#{module.number}/section/#{section.number}/reflective_questions" class="{{isActiveRoute name='reflective_questions'}}") Collaboration
                .ui.dividing.header Progress
                #section_percent_complete_bar.ui.blue.indicating.progress(data-percent=section_progress_doc.percent_complete)
                    .bar
                        .progress
                            | #{section_progress_doc.percent_complete}%
                if video_complete
                    .ui.fluid.basic.label 
                        i.check.icon
                        |Video
                else
                    .ui.basic.fluid.label 
                        |Video
                if reflective_question_docs.count
                    each reflective_question_docs
                        if reflective_question_answered
                            .ui.basic.fluid.label 
                                i.green.check.icon
                                |Reflective Question #{number}
                        else
                            .ui.basic.fluid.label 
                                |Reflective Question #{number}
            .eleven.wide.column
                if Template.subscriptionsReady
                    +doc_content tags=section_content_tags
                    .ui.hidden.divider
                    .ui.styled.fluid.accordion
                        h3.title
                            i.large.newspaper.icon
                            | Transcript
                        .content
                            +doc_content tags=section_transcript_tags
                    .ui.hidden.divider
                    if currentUser
                        if video_complete
                            .unmark_video_complete.ui.blue.fluid.button 
                                i.check.icon
                                |Video Watched
                        else
                            .mark_video_complete.ui.basic.fluid.button Mark Video Watched
                    .ui.hidden.divider
                    if section_complete
                        .ui.horizontal.divider.header
                            i.green.check.circle.icon
                            |Section Complete
                        a.ui.basic.fluid.button(href="/course/sol/module/#{module_number}/section/#{next_section_number}")
                            | Continue to Section #{next_section_number}
                            i.right.chevron.icon
                    if isInRole 'admin'
                        +reflective_questions
                    else if video_complete
                        +reflective_questions
                            

