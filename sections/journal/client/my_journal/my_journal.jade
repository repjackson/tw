template(name='my_journal')
    // .ui.container
    h1.ui.center.aligned.header
        +icon96 name='journal' classes='ui avatar image'
        | My Journal Entries
    // .ui.center.aligned.basic.segment
    //     +doc_content tags='journal,mine,blurb'
    .ui.stackable.grid
        .four.wide.column
            // .ui.dividing.header Filters
            // +view_published_toggle
            #cloud
                +theme_facet type='journal'
                +location_facet type='journal'
                +intention_facet type='journal'
                
                // +keyword_filter type='journal'
            // a#toggle_published.ui.basic.button(class=published_item_class) 
            //     i.red.unhide.icon
            //     |Published (#{published_count})
            // a#toggle_unpublished.ui.basic.button(class=unpublished_item_class) 
            //     i.red.hide.icon
            //     |Unpublished (#{unpublished_count})
        
            // a#toggle_mine.ui.basic.button(class=mine_item_class) 
            //     |Mine (#{mine_count})
        
        .twelve.wide.column
            // .ui.centered.stackable.cards
            .ui.relaxed.divided.items
                each journal_entries
                    +my_entry_view
        



template(name='my_entry_view')
    .ui.segment.document_container(class=journal_segment_class)
        .content
            .description
                +parent_doc_segment
                .ui.basic.segment.large
                    |!{content}
            +view_tags
            |written #{when}
            .ui.divider
        .ui.styled.fluid.accordion
            .title
                .ui.header 
                    +icon48 name='details' classes='ui avatar image'
                    |Details 
                    i.dropdown.icon
            .content
                .ui.divided.stackable.grid
                    .ten.wide.column
                        .ui.basic.segment
                            .extra
                                span.right.floated
                                    +view_full_button
                                +bookmark_button
                                +edit_link_button
                                if is_author
                                    +published
                    .six.wide.column
                        .image
                            .ui.basic.segment
                                if watson
                                    +doc_sentiment
                                    +doc_emotion
                                else
                                    if can_edit
                                        +call_watson
            // .meta
            //     i.large.icons
            //         i.idea.icon
            //         i.tags.corner.icon
            //     each watson_keywords
            //         .ui.tiny.circular.compact.button.tag(class=tag_class) #{this}
            // .content
            //         |by
            //         if author.profile.image_id
            //             img.ui.avatar.image(src="{{c.url author.profile.image_id width=50 height=50 gravity='face' crop='fill'}}")
            //         |#{author.name} #{when}
