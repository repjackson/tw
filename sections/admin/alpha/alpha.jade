template(name='alpha')
    h2.ui.center.aligned.header alpha
    .ui.stackable.grid
        .four.wide.column
            #add.ui.button add
        .twelve.wide.column
            with root
                +alpha_card
            with child
                +Template.dynamic template=view_type_template

            // #cloud.ui.basic.segment
            //     .ui.left.icon.large.input
            //         i.search.icon
            //         +inputAutocomplete settings=settings id="search" class="" autocomplete="off" 
            //     if selected_all_tags
            //         #clear_tags.ui.active.icon.large.button
            //             i.remove.icon
            //         each selected_all_tags
            //             .unselect_tag.ui.active.large.button
            //                 strong #{this}
            //     each all_tags
            //         .ui.button.select_tag(class=cloud_tag_class) 
            //             | #{this.name}
            //             // | #{this.index}
            //             small #{this.count}
            //     .ui.hidden.divider
            //     .ui.centered.cards
                    // each all_docs
                    //     +alpha_card 
                        // +dev_doc

template(name='alpha_card')
    .ui.card
        .content
            .header #{title}
            .meta
                .subheader #{subtitle}
                .date
                    |by 
                    img.ui.avatar.image(src="{{c.url author.profile.image_id width=50 height=50 gravity='face' crop='fill'}}")
                    |#{author.name} #{when}
                each tags
                    .ui.tiny.label(class=tag_class) #{this}
            if body
                .description Body
                |#{body}
            if content
                .description Content
                |!{content}
            if price
                | Price #{price}
            if type
                | Type: #{type}
            .extra
                a.ui.button(href="/alpha_edit/#{_id}") edit
                .create_child.ui.button create child
            .ui.list
                .header children
                +Template.dynamic template=children_template


                    
template(name='child_list_item')                    
    .item
        |#{title} #{type}
        each tags
            .ui.small.basic.label #{this}
            
template(name='child_menu')
    .ui.menu
        each parent_children
            a.select_child.item 
                |#{title}
                a.ui.small.icon.button(href="/alpha_edit/#{_id}")
                    i.pencil.icon