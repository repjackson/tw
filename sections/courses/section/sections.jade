template(name='sections')        
    .ui.horizontal.divider.header Sections
        if isInRole 'admin'
            i#add_section.green.plus.link.small.icon(title='Add Section')
    each sections
        +section
        
        
template(name='section')        
    if section_is_available
        .ui.segment
            if editing
                .ui.form
                    .field
                        +number
                    .field
                        +title
                    .field
                        +type
                    .field
                        |#{when}
                    .field
                        +edit_parent_id
                    .field
                        +tags
                    .field
                        .label Takeaways
                        +content
                    +delete_button
                    .ui.hidden.divider
                    if isInRole 'admin'
                        +session_edit_icon
            else
                a.ui.header(href="/course/sol/module/#{module_number}/section/#{number}") 
                    if section_is_complete
                        i.green.big.check.circle.icon
                    |#{number}: #{title}
                if isInRole 'admin'
                    // p parent_id: #{parent_id}
                    // p type: #{type}
                    +session_edit_icon
                unless section_is_complete
                    .ui.divider
                    .section_percent_complete_bar.ui.indicating.progress(data-percent=user_progress)
                        .bar
                            .progress
                        .label
                    .ui.horizontal.relaxed.list
                        .item
                            if section_progress_doc.video_complete
                                i.green.film.icon
                            else
                                i.disabled.film.icon
                            .content
                                if section_progress_doc.video_complete
                                    |Video Watched
                                else
                                    |Video Not Watched
                        if section_progress_doc.section_question_count
                            .item
                                .content
                                    i.tasks.icon
                                    strong #{section_progress_doc.section_answer_count}/#{section_progress_doc.section_question_count}
                                    |Questions Answered
                else
                    if content
                        .item
                            .section_summary.ui.basic.button 
                                i.external.icon
                                |Takeaways
    else
        .ui.disabled.segment
            .ui.header  #{number}: #{title}

    