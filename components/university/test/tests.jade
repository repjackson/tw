template(name='tests')
    .ui.container
        h1.ui.dividing.header Tests
        .ui.stackable.divided.grid
            .twelve.wide.column
                // if is_list_view
                //     .ui.relaxed.divided.items
                //         each tests
                //             +test_item
                // if is_grid_view
                .ui.cards
                    each tests
                        +test_card
            .four.wide.column
                // .ui.dividing.header Layouts
                // #make_list_layout.ui.large.icon.button(class=list_layout_button_class)
                //     i.list.layout.icon
                // #make_grid_layout.ui.large.icon.button(class=grid_layout_button_class)
                //     i.grid.layout.icon
                // .ui.dividing.header Tag Filter
                // +cloud type='test'
                if isInRole 'admin'
                    .ui.dividing.header 
                        i.red.configure.icon
                        |Admin
                    #add_test.ui.basic.fluid.button
                        i.large.icons
                            i.sticky.note.outline.icon
                            i.green.plus.corner.icon
                        |Add Test


template(name='test_card')
    .ui.card
        .content
            .right.floated.meta
                if completed
                    i.big.green.checkmark.box.icon
                else
                    i.big.square.outline.icon
            .header
                a(href="{{pathFor 'view_test' doc_id=_id}}")
                    h2.ui.header #{title}
            .description
                |!{body}
        .content
            if isInRole 'admin'
                a.ui.basic.right.floated.button(href="/edit/#{_id}")
                    i.red.configure.icon
                    |Edit Test    