template(name='course_pins')
    .ui.container
        h1.ui.center.aligned.header 
            +icon96 name="push-pin" classes='ui mini inline image'
            |My Pins (#{pins_count})
        .ui.stackable.grid
            // .five.wide.column
            //     .ui.dividing.header Tag Filter
            //     if selected_theme_tags
            //         #clear_tags.ui.teal.icon.large.button
            //             i.remove.icon
            //         each selected_theme_tags
            //             .unselect_tag.ui.teal.large.button
            //                 strong #{this}
            // .eleven.wide.column
            each pinned_tags
                .ui.basic.button.select_tag(class=cloud_tag_class) 
                    | #{this.name}
            .ui.stackable.centered.cards
                each pinned_docs
                    +pin
                
template(name='pin')
    .ui.card
        .content
            +pin_button
            .header
                each tags
                    .ui.large.basic.label(class=tag_class) #{this}
            // .avatar
                // a
                //     | by
                //     img.ui.avatar.image(src="{{c.url author.profile.image_id width=50 height=50 gravity='face' crop='fill'}}")
                //     |#{author.name}
                // span.date #{from_now}
            .description
                .ui.basic.segment
                    if content
                        |!{content}
                    if body
                        |#{body}
                    if image_url
                        img.ui.small.image(src=image_url)
            .extra
                .item
                    if parent_id
                        .ui.accordion
                            .title
                                i.vertically.flipped.share.icon
                                |Child of...
                                i.dropdown.icon
                            .content
                                .ui.basic.segment
                                    each parent.tags
                                        .ui.small.basic.label #{this}
                                    strong by #{parent.author.profile.first_name}
                                    p #{parent.body}
                                    if parent.parent_id
                                        .ui.basic.segment
                                            i.vertically.flipped.share.icon
                                            each parent.parent.tags
                                                .ui.small.basic.label #{this}
                                            p #{parent.parent.body}
                                            if parent.parent.parent_id
                                                .ui.basic.segment
                                                    i.vertically.flipped.share.icon
                                                    each parent.parent.parent.tags
                                                        .ui.small.basic.label #{this}
                                                    if parent.parent.parent.title
                                                        strong #{parent.parent.parent.title}
                                                    p #{parent.parent.parent.body}            