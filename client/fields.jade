template(name='title')
    .field
        label Title
        input#title(type='text' placeholder='Title' value=title)

template(name='subtitle')
    .field
        label Subtitle
        input#subtitle(type='text' value=subtitle)


template(name='tags')
    .field
        label Tags
        each tags
            .ui.basic.button.doc_tag
                i.minus.icon
                |#{this}
        .ui.left.icon.four.wide.input
            i.add.icon
            input#add_tag(type='text' placeholder='Add Tag' maxlength='50')


template(name='price')
    .field
        label Price in $
        input#price(type='number' min='0' value=price)

template(name='link')
    .field
        label Link (include http://)
        .ui.left.icon.input
            i.linkify.icon
            input#link(type='text' value=url)


template(name='page_name')
    .field
        label Page Name
        .ui.input
            input#name(type='text' value=name)


template(name='type')
    .field
        label Type
        .ui.left.icon.input
            i.red.configure.icon
            input#type(type='text' value=type)

template(name='location')
    .field
        label Location
        .ui.left.icon.input
            i.compass.icon
            input#location(type='text' value=location)

template(name='content')
    // .field
    //     label Snippet (shown in previews, if left blank, will be autogenerated from content)
    //     textarea#snippet(rows='3') #{snippet}
    .field
        label Content
        .froala-container
            +froalaReactive getFEContext
    // if isInRole 'admin'
    //     .ui.basic.segment
    //         #upload_widget_opener.ui.basic.button 
    //             i.upload.icon
    //             |Upload Images for content
    //         | Copy addresses into the 'Insert Image' button dialogue above
    //         if image_array.length
    //             .ui.list
    //                 each image_array
    //                     .item
    //                         .ui.tiny.image
    //                             img(src=thumbnail_url)
    //                         .middle.aligned.content
    //                             // .ui.header #{original_filename}
    //                             | #{url}
    // script(src='//widget.cloudinary.com/global/all.js', type='text/javascript')
    // // script(type='text/javascript').
    // //     document.getElementById("upload_widget_opener").addEventListener("click", function() {
    // //     cloudinary.openUploadWidget({ cloud_name: 'facet', upload_preset: 'rodonu5a'},
    // //     function(error, result) { console.log(error, result) });
    // //     }, false);
    
    
template(name='image')
    // .ui.header Custom Image
    if image_id
        .field
            label Image
            .ui.large.image
                img(src="{{c.url image_id width=500 crop='fit'}}")
                a#remove_photo.ui.top.left.attached.link.basic.label Remove
                .ui.bottom.right.attached.basic.label Image Id: #{image_id}
    else
        .fields
            .field
                label Upload Image
                input(type='file' name='upload_picture' accept='image/*')
            if isInRole 'admin'
                .field
                    label or Choose Cloudinary Image Id
                    input#input_image_id(type='text')
    
