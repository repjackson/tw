template(name='view_databank')
    .ui.stackable.padded.grid
        .centered.row
            h1.ui.header 
                +icon96 name=icon_class classes='ui image'
                |#{title}
                if can_edit
                    +edit_doc_link
        .row
            .four.wide.column
                if currentUser
                    #add_item.ui.compact.large.basic.circular.fluid.button
                        i.green.plus.icon
                        |Add Item
                +tag_facet
                .ui.hidden.divider
            .twelve.wide.column
                .ui.cards
                    each children 
                        +databank_card

template(name='edit_databank')
    .ui.stackable.padded.grid
        .centered.row
            h1.ui.header 
                +icon96 name=icon_class classes='ui image'
                |Edit #{title}
        .row
            .twelve.wide.column
                +edit_title
                +edit_icon
                +edit_child_fields
            .four.wide.column
                +save_link

template(name='databank_card')
    .ui.fluid.card
        if youtube
            +view_youtube
        if image_id
            +view_image_id
        if image_url
            +view_image_url
        if content
            +view_content
            if author_name
                h4.ui.header
                    |- #{author_name}
        .content
            +view_tags
        .content
            +author_info
            |#{when}
        .content
            +voting
            +bookmark_button
            +resonate_button
            +view_full_button
            // +reflect_button
        if favorite_count
            .content
                strong
                    +icon48 name='heart-health' classes='ui mini inline image'
                    | Resonates with #{favorite_count} 
                .ui.divided.horizontal.list
                    each favoriter_list
                        .item
                            img.ui.avatar.image(src="{{c.url profile.image_id width=100 height=100 gravity='face' crop='fill'}}")
                            .content
                                .header
                                    |#{name}
        // if upvoters
        //     .content
        //         strong
        //             +icon48 name='thumbs-up' classes='ui mini inline image'
        //             | Upvoted by
        //         .ui.divided.horizontal.list
        //             each upvoter_list
        //                 .item
        //                     img.ui.avatar.image(src="{{c.url profile.image_id width=100 height=100 gravity='face' crop='fill'}}")
        //                     .content
        //                         .header
        //                             |#{name}
                

template(name='edit_databank_item')
    .ui.stackable.padded.grid
        .centered.row
            h1.ui.center.aligned.header Edit databank Item
        .row
            .twelve.wide.column
                .ui.form
                    +edit_tags
                    +edit_image_id
                    +edit_image_url
                    +edit_content
            .four.wide.column
                +save_button
                #delete_item.ui.red.icon.button
                    i.trash.icon


template(name='view_databank_item')
    .ui.stackable.padded.grid
        .centered.row
            h1.ui.center.aligned.header View databank Item
        .row
            .twelve.wide.column
                if youtube
                    +view_youtube
                if image_id
                    +view_image_id
                if image_url
                    +view_image_url
                if content
                    +view_content
                    if author_name
                        h4.ui.header
                            |- #{author_name}

                .ui.form
                    +view_tags
                    +view_image_id
                    +view_image_url
                    +view_content
            .four.wide.column
                if can_edit
                    +edit_button
