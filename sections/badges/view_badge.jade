template(name='view_badge')
    unless editing
        .ui.stackable.padded.grid
            .centered.middle.aligned.row
                .three.wide.column
                    a.ui.basic.circular.button(href='/badges')
                        +icon48 name='medal' classes='ui mini spaced image'
                        | Badges
                .eleven.wide.column
                    h1.ui.center.aligned.header 
                        +icon96 name=icon_class classes='ui spaced image'
                        |View '#{title}' Badge
                .two.wide.column
                    if can_edit
                        +toggle_editing_button
    
                    // a.ui.basic.circular.button(href='/shop')
                    //     +icon48 name='shop' classes='ui mini spaced image'
                    //     | Shop
            .row
                .ten.wide.column
                    .ui.item
                        .ui.small.image
                            if image_id
                                img(src="{{c.url image_id}}")
                            if image_url
                                img(src=image_url)
                        .content
                            .large130
                                |!{content}
                    .ui.dividing.header
                        +icon48 name='hashtag' classes='ui inline mini image'
                        |Tags
                    each tags
                        .ui.basic.large.label.doc_tag #{this}
                    
                    .ui.dividing.header 
                        +icon48 name='monarch' classes='ui mini inline image'
                        |Badge Rule 
                    .ui.basic.segment
                        .large130 #{body}
                .five.wide.column
                    .ui.header by 
                        img.ui.avatar.image(src="{{c.url author.profile.image_id width=100 height=100 gravity='face' crop='fill'}}")
                        |#{author.name}
                        with author
                            +staus_indicator
                        .sub.header #{when}
                    .ui.header Quantity: #{quantity}
                    .ui.header Offer: #{bounty}
                    .ui.dividing.header 
                        +icon48 name='sports-mode' classes='ui inline mini image'
                        |Actions
                    // +submit_proposal
                    // +bookmark_button
                    // .ui.dividing.header
                    //     +icon48 name='true-false' classes='ui inline mini image'
                    //     |Reviews
                    // h4 Review Points: #{points}
        
                    // +published
                    // +tag_rating
    else
        .ui.padded.stackable.grid
            .centered.middle.aligned.row
                .two.wide.column
                    +save_button
                .ten.wide.column
                    h1.ui.center.aligned.header 
                        +icon96 name=icon_class classes='ui spaced image'
                        |Edit '#{title}' Badge
                .two.wide.column
                    #delete_doc.ui.fluid.basic.small.circular.button(data-position='bottom center' data-tooltip='Delete')
                        +icon48 name='delete' classes='ui mini inline image'
    
            .row
                .eleven.wide.column
                    .ui.form
                        +title
                        +tags
                        +content
                        .ui.header 
                            +icon48 name='monarch' classes='ui mini inline image'
                            |Badge Rule 
                        +body_field
                .five.wide.column
                    +bounty
                    .ui.hidden.divider
                    +icon_class
                    