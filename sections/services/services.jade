template(name='services')
    .ui.stackable.grid
        .four.wide.column
            h1.ui.dividing.header
                i.configure.icon
                |Services
            if isInRole 'admin'
                #add_service.ui.red.basic.fluid.button
                    i.plus.icon
                    |Add Service
            +tag_filter type='service'
        .twelve.wide.column
            .ui.relaxed.divided.items
                each services
                    +service_item


template(name='service_item')
    .item
        a.image(href="/view/#{_id}")
            if image_id
                img.ui.rounded.image(src="{{c.url image_id  width=175 height=175 crop='fill' gravity='face' }}")
            if image_url
                img(src=image_url)
            .ui.center.aligned.header
                if dollar_price
                    | $#{dollar_price}
                if point_price
                    | #{point_price} point(s)
                else
                    | 0 points

        .content
            a.header(href="/view/#{_id}") #{title}
            .meta
                img.ui.avatar.image(src="{{c.url author.profile.image_id width=100 height=100 gravity='face' crop='fill'}}")
                |by #{author.name}
            .meta
                each tags
                    .ui.small.label(class=tag_class) #{this}
            .description
                | !{content}
                span.right.floated
                    +view_full_button
            // .extra
            //     i.tags.icon
            //     each tags
            //         .ui.compact.tiny.button.service_tag(class=tag_class) #{this}
