template(name='facet')
    .ui.container
        h2.ui.center.aligned.header Facet
        .ui.teal.four.item.large.pointing.menu
            a#set_mode_to_all.item(class=all_item_class) 
                |All
            a#select_unvoted.item(class=unvoted_item_class) 
                |Unvoted
            a#toggle_voted_up.item(class=voted_up_class) 
                i.thumbs.up.icon
                |Voted Up (#{voted_up_facet_count})
            a#toggle_voted_down.item(class=voted_down_class) 
                i.thumbs.down.icon
                |Voted Down (#{voted_down_facet_count})

        #cloud.ui.basic.segment.container
            if selected_facet_tags
                #add_facet_doc.ui.circular.icon.button
                    i.plus.icon
            else
                #add_facet_doc.ui.basic.circular.icon.button
                    i.plus.icon
            // .ui.left.icon.large.input
            //     i.search.icon
            //     +inputAutocomplete settings=settings id="search" class="" autocomplete="off" 
            if selected_facet_tags
                #clear_tags.ui.active.icon.large.button
                    i.remove.icon
                each selected_facet_tags
                    .unselect_tag.ui.active.large.button
                        strong #{this}
            each facet_tags
                .ui.button.select_tag(class=cloud_tag_class) 
                    | #{this.name}
                    // | #{this.index}
                    small #{this.count}
            .ui.hidden.divider
            .ui.centered.cards
                each facet_docs
                    +facet_doc_view


template(name='facet_doc_view')
    .ui.card(class=facet_card_class)
        .content
            if is_editing
                .ui.container.basic.segment
                    .ui.center.aligned.header Edit Facet Doc
                    .ui.form
                        +tags
                    .ui.hidden.divider
                    .ui.center.aligned.basic.segment
                        +session_edit_button
                        +delete_button
            else
                .header
                    each tags
                        .ui.big.basic.label(class=facet_tag_class) #{this}
                    .ui.center.aligned.basic.segment
                        +big_both_voter
            if can_edit
                +session_edit_button